# Batch processing configuration for Step 3

processing:
  # Year to extract from original simulations
  year_to_extract: 60
  
  # Number of individuals to create
  num_individuals: 30
  
  # Mixture ratio (proportion of lineage cells)
  mixture_ratio: 0.2  # 20% lineage cells, 80% original
  
  # Which components to process
  extract_snapshots: true
  create_individuals: true
  create_plots: true
  cross_rate_analysis: true
  
  # Parallel processing
  parallel_jobs: 1
  
  # Timeouts (in seconds)
  timeouts:
    snapshot: 300      # 5 minutes
    individuals: 600   # 10 minutes
    plots: 300         # 5 minutes

paths:
  # Input directories
  step1_data: "../../step1/data"
  step2_data: "../../step2/data"
  
  # Output directory
  output_base: "../data"
  
  # State file
  state_file: ".batch_state_step3.json"

filters:
  # Which rates to process
  # Options: "all" (auto-detect from Step 2), or list like ["0.001000", "0.003000"]
  rates: "all"
  
  # Only process rates that completed Step 2
  require_complete_step2: true
  
  # Skip existing outputs
  skip_existing: true

logging:
  # Logging level
  level: "INFO"
  
  # Log to console
  console: true
  
  # Log directory
  log_dir: "logs"

analysis:
  # Combined analysis settings
  compare_across_rates: true
  
  # Statistical tests
  perform_statistical_tests: true
  test_type: "mann_whitney"  # Non-parametric test for JSD distributions
  
  # Plotting
  plot_formats: ["png", "html"]  # HTML for interactive plots
  figure_size: [10, 6]
  
  # Summary report
  generate_summary: true

advanced:
  # Retry failed operations
  retry_failed: true
  max_retries: 2
  
  # Save state after each rate
  checkpoint_interval: 1
  
  # Minimum disk space (GB)
  min_disk_space: 10.0
  
  # Random seed for reproducibility
  random_seed: 42